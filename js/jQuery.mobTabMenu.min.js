/*!
 *
 * jQuery mobTabMenu
 *
 * A jQuery mobile and tablet menu plugin
 *
 * @author 		Tim Bennett
 * @version 	1.0.0
 * @license		www.texelate.co.uk/mit-license/
 *
 * Download the latest version at www.texelate.co.uk/lab/project/mob-tab-menu/
 *
 * Copyright (c) 2015 Texelate Ltd, www.texelate.co.uk
 *
 */
(function(a){a.fn.mobTabMenu=function(d){var h={fixedElements:null,invertedFixedElements:null,hideMenuOnResize:false,toggleElements:".mob-tab-menu-toggle",openElements:".mob-tab-menu-open",closeElements:".mob-tab-menu-close",toggleEvent:"click",activeClass:"mob-tab-menu-active",speed:0,position:"left",animateBody:false,easing:"",preventFOUC:true,onInit:function(){},onOpened:function(){},onClosed:function(){},onToggled:function(){},onBeforeOpen:function(){},onBeforeClose:function(){},onBeforeToggle:function(){},};var d=a.extend(h,d);var g=this;var e=false;var f=false;var c=null;var b=false;var i=a(window);return this.each(function(){if(b===true){return}else{b=true}var o=a(this);var m=a(d.toggleElements);var j=null;if(d.fixedElements!==null){var n=a(d.fixedElements)}else{var n=null}if(d.invertedFixedElements!==null){var q=a(d.invertedFixedElements)}else{var q=null}if(d.position!="default"){o.addClass("mob-tab-menu-position-fixed");if(d.position=="top"){o.addClass("mob-tab-menu-position-fixed-vert");o.addClass("mob-tab-menu-position-fixed-top")}else{if(d.position=="left"){o.addClass("mob-tab-menu-position-fixed-horiz");o.addClass("mob-tab-menu-position-fixed-left")}else{o.addClass("mob-tab-menu-position-fixed-horiz");o.addClass("mob-tab-menu-position-fixed-right")}}if(d.position=="top"){c=o.outerHeight()}else{c=o.outerWidth()}if(d.animateBody===true){a("body").wrapInner('<div id="mob-tab-menu-pseudo-body"></div>');j=a("div#mob-tab-menu-pseudo-body")}if(j!==null){if(n===null){n=j}else{n=n.add(j)}}var l='{"'+d.position+'" : "-'+c+'px"}';o.css(a.parseJSON(l))}else{o.hide()}m.on(d.toggleEvent,function(r){r.preventDefault();if(e===true){p(o,n,q,m)}else{k(o,n,q,m)}});a(d.openElements).on("click",function(r){r.preventDefault();k(o,n,q,m)});a(d.closeElements).on("click",function(r){r.preventDefault();p(o,n,q,m)});if(d.hideMenuOnResize!==false){i.resize(function(){if(e===true){var r=i.width();if(r>=d.hideMenuOnResize){o.hide();if(d.position!="default"){j.css(d.position,"0px")}}else{o.show();if(d.position!="default"){j.css(d.position,o.outerWidth()+"px")}}}})}a.fn.open=function(){k(a(this),n,q,m)};a.fn.close=function(){p(a(this),n,q,m)};a.fn.toggle=function(){if(e===true){p(a(this),n,q,m)}else{k(a(this),n,q,m)}};function k(t,u,x,s){if(e===false&&f===false){d.onBeforeOpen.call(this);d.onBeforeToggle.call(this);if(d.position=="default"){s.addClass(d.activeClass);f=true;t.slideDown(d.speed,d.easing,function(){d.onOpened.call(this);d.onToggled.call(this);f=false;e=true;d.onOpened.call(this);d.onToggled.call(this)})}else{s.addClass(d.activeClass);f=true;var v="+=";if(u!==null){var r='{"'+d.position+'" : "'+v+c+'px"}';u.animate(a.parseJSON(r),d.speed,d.easing)}if(x!==null){if(d.position=="right"){var w="left"}else{if(d.position=="left"){var w="right"}else{if(d.position=="top"){var w="bottom"}else{var w="top"}}}var r='{"'+w+'" : "-='+c+'px"}';x.animate(a.parseJSON(r),d.speed,d.easing)}var r='{"'+d.position+'" : "'+v+c+'px"}';t.animate(a.parseJSON(r),d.speed,d.easing,function(){d.onOpened.call(this);d.onToggled.call(this);f=false;e=true;d.onOpened.call(this);d.onToggled.call(this)})}}}function p(t,u,x,s){d.onBeforeClose.call(this);d.onBeforeToggle.call(this);if(e===true&&f===false){if(d.position=="default"){s.removeClass(d.activeClass);f=true;t.slideUp(d.speed,d.easing,function(){d.onClosed.call(this);d.onToggled.call(this);f=false;e=false;d.onClosed.call(this);d.onToggled.call(this)})}else{s.removeClass(d.activeClass);f=true;var v="-=";if(u!==null){var r='{"'+d.position+'" : "'+v+c+'px"}';u.animate(a.parseJSON(r),d.speed,d.easing)}if(x!==null){if(d.position=="right"){var w="left"}else{if(d.position=="left"){var w="right"}else{if(d.position=="top"){var w="bottom"}else{var w="top"}}}var r='{"'+w+'" : "+='+c+'px"}';x.animate(a.parseJSON(r),d.speed,d.easing)}var r='{"'+d.position+'" : "'+v+c+'px"}';t.animate(a.parseJSON(r),d.speed,d.easing,function(){d.onClosed.call(this);d.onToggled.call(this);f=false;e=false;d.onClosed.call(this);d.onToggled.call(this);i.trigger("resize")})}}}if(d.preventFOUC===true&&d.position!="default"){o.css("display","")}d.onInit.call(this)})}})(jQuery);